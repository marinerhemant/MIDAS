# DT/ — Diffraction Tomography

This directory contains the diffraction tomography module for MIDAS, providing the peak-fit integrator used in the FF-HEDM calibration and radial integration pipeline.

---

## Directory Structure

```
DT/
├── src/               # C source code
├── bin/               # Compiled binaries (generated by build)
├── runDTrecon.py      # Python driver for diffraction tomography
└── CMakeLists.txt     # Build configuration
```

---

## What DT Does

The Diffraction Tomography module performs **detector coordinate remapping and peak-profile fitting** for radial integration:

1. **Maps raw detector pixels** from Cartesian (Y, Z) coordinates to polar (R, η) coordinates using the calibrated detector geometry (tilt angles, beam center, sample-to-detector distance).
2. **Fits peak profiles** along radial and azimuthal directions using optimized routines.
3. **Outputs integrated 1D profiles** for downstream analysis (caking, GSAS-II refinement).

---

## Source Code (`src/`)

| Source | Description |
|--------|-------------|
| `IntegratorPeakFitOMP.c` | **Primary integrator.** OpenMP-parallelized radial integration with peak fitting. Performs the coordinate transformation and azimuthal binning. |
| `PeakFit.c` | Peak profile fitting routines used by the integrator. |
| `DetectorMapper.c` | Detector coordinate mapping (included from FF_HEDM). |
| `FileReader.c` / `.h` | File I/O routines (included from FF_HEDM). |
| `Panel.c` / `.h` | Multi-panel detector definitions (included from FF_HEDM). |

## Python Driver

| Script | Description |
|--------|-------------|
| `runDTrecon.py` | Python wrapper for the C integrator binary. Handles parameter setup, file management, and result collection. |

---

## See Also

- [FF_RadialIntegration manual](../manuals/FF_Radial_Integration.md) — radial integration / caking user guide
- [GSAS-II_Integration manual](../manuals/GSAS-II_Integration.md) — importing integrated data into GSAS-II
